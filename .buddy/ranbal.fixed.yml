- pipeline: ranbal
  events:
  - type: PUSH
    refs:
    - refs/heads/main
  fail_on_prepare_env_warning: true
  resources: X2LARGE
  actions:
  - action: nosetests
    type: BUILD
    docker_image_name: library/python
    docker_image_tag: "3.13"
    execute_commands:
    - pip install telebot flask aiogram pyTelegramBotAPI python-telegram-bot motor
    - chmod +x *
    - python3 ranbal.py
    - nosetests
    cached_dirs:
    - /root/.cache/pip
    shell: BASH
